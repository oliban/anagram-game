<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contribute a Phrase - Anagram Game</title>
    <link rel="stylesheet" href="/shared/shared.css">
    <link rel="stylesheet" href="/contribute/contribute.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üéØ Contribute a Phrase</h1>
            <p id="header-subtitle">Help create a challenging anagram for your friend!</p>
        </header>

        <div class="contribution-card card">
            <div class="contribution-info" id="contribution-info">
                <div class="loading">
                    <div class="spinner"></div>
                    <span>Loading contribution details...</span>
                </div>
            </div>

            <form id="contribution-form" class="contribution-form" style="display: none;">
                <!-- Language Selection with Big Flags -->
                <div class="form-group">
                    <label class="form-label">Choose Language:</label>
                    <div class="language-flags">
                        <button type="button" class="flag-button active" data-language="en">
                            <span class="flag">üá∫üá∏</span>
                            <span class="language-name">English</span>
                        </button>
                        <button type="button" class="flag-button" data-language="sv">
                            <span class="flag">üá∏üá™</span>
                            <span class="language-name">Svenska</span>
                        </button>
                    </div>
                    <input type="hidden" id="language-select-top" value="en">
                </div>

                <div class="form-group">
                    <label for="phrase-input" class="form-label">
                        Phrase or Sentence *
                        <span class="help-text">2-4 words, max 7 letters per word (e.g., "Hello World")</span>
                    </label>
                    <textarea 
                        id="phrase-input" 
                        class="form-input form-textarea" 
                        placeholder="e.g., Hello World"
                        maxlength="35"
                        required
                    ></textarea>
                    <div class="error-message" id="phrase-input-error"></div>
                    <div class="scramble-preview" id="scramble-preview" style="display: none;">
                        <div class="preview-label">Preview: How it will appear scrambled</div>
                        <div class="scrambled-text" id="scrambled-text"></div>
                    </div>
                    <div class="character-count">
                        <span id="char-count">0</span> / 35 characters
                    </div>
                    <div class="quality-indicator" id="quality-indicator">
                        <div class="quality-badge quality-poor">‚ùì Start typing to see quality feedback</div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="theme-input" class="form-label">
                        Theme (Optional)
                        <span class="help-text">What category or topic does this phrase relate to? (e.g., Movies, Literature, Science, Sports)</span>
                    </label>
                    <input 
                        type="text" 
                        id="theme-input" 
                        class="form-input" 
                        placeholder="e.g., Classic Literature, Famous Quotes, Movies..."
                        maxlength="50"
                    >
                    <div class="theme-examples">
                        <span class="example-tag" onclick="document.getElementById('theme-input').value='Movies'">Movies</span>
                        <span class="example-tag" onclick="document.getElementById('theme-input').value='Literature'">Literature</span>
                        <span class="example-tag" onclick="document.getElementById('theme-input').value='Famous Quotes'">Famous Quotes</span>
                        <span class="example-tag" onclick="document.getElementById('theme-input').value='Science'">Science</span>
                    </div>
                    <div class="error-message" id="theme-input-error"></div>
                </div>

                <div class="form-group">
                    <label for="clue-input" class="form-label">
                        Clue *
                        <span class="help-text">Max 32 characters - provide a helpful hint (required)</span>
                    </label>
                    <input 
                        type="text" 
                        id="clue-input" 
                        class="form-input" 
                        placeholder="Enter a helpful hint or clue..."
                        maxlength="32"
                        required
                    >
                    <div class="character-count">
                        <span id="clue-char-count">0</span> / 32 characters
                    </div>
                    <div class="error-message" id="clue-input-error"></div>
                </div>

                <div class="form-group">
                    <label for="contributor-name" class="form-label">
                        Your Name (Optional)
                        <span class="help-text">Max 10 characters - will be shown to the player</span>
                    </label>
                    <input 
                        type="text" 
                        id="contributor-name" 
                        class="form-input" 
                        placeholder="Your name (max 10 chars)"
                        maxlength="10"
                    >
                    <div class="character-count">
                        <span id="name-char-count">0</span> / 10 characters
                    </div>
                    <div class="error-message" id="contributor-name-error"></div>
                </div>

                <div class="difficulty-preview" id="difficulty-preview" style="display: none;">
                    <h3>Difficulty Preview</h3>
                    <div class="difficulty-indicator" id="difficulty-indicator">
                        <span class="difficulty-level">Medium</span>
                    </div>
                    <div class="difficulty-details" id="difficulty-details"></div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="submit-btn">
                        <span class="btn-text">Submit Phrase</span>
                        <div class="btn-spinner" style="display: none;">
                            <div class="spinner"></div>
                        </div>
                    </button>
                    <button type="button" class="btn btn-secondary" id="preview-btn">
                        Preview Scrambled
                    </button>
                </div>
            </form>

            <div class="contribution-result" id="contribution-result" style="display: none;">
                <div class="success-message">
                    <h2>üéâ Phrase Submitted Successfully!</h2>
                    <p>Your phrase has been sent to <strong id="result-player-name"></strong></p>
                    <p class="contribution-summary" id="contribution-summary"></p>
                </div>
            </div>

            <div class="contribution-error" id="contribution-error" style="display: none;">
                <div class="error-message-box">
                    <h2>‚ö†Ô∏è Unable to Submit</h2>
                    <p id="error-message"></p>
                    <button class="btn btn-secondary" onclick="location.reload()">
                        Try Again
                    </button>
                </div>
            </div>
        </div>

        <div class="info-card card">
            <h3>üéÆ How the Anagram Game Works</h3>
            <div class="game-explanation">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Your Phrase Gets Scrambled</h4>
                        <p>The letters of your phrase are mixed up randomly, creating a challenging puzzle</p>
                        <div class="example-scramble">
                            <div class="original">"Hello World"</div>
                            <div class="arrow">‚Üì</div>
                            <div class="scrambled">"dlroW olleH"</div>
                        </div>
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Player Drags Letters</h4>
                        <p>Your friend drags letter tiles to unscramble and solve your phrase</p>
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>They Get Points & Fun!</h4>
                        <p>Solving your phrase earns them points and brings you both closer together</p>
                    </div>
                </div>
            </div>
            
            <div class="app-store-section">
                <h4>üì± Get the Anagram Game</h4>
                <p>Want to play too? Download the game and challenge your friends!</p>
                <a href="#" class="app-store-btn" id="app-store-link">
                    <div class="store-icon">üì±</div>
                    <div class="store-text">
                        <div class="store-label">Download on the</div>
                        <div class="store-name">App Store</div>
                    </div>
                </a>
                <p class="coming-soon">Coming soon to the App Store!</p>
            </div>
            
            <div class="legend-system-info">
                <h4>üèÜ How to Become a Legend</h4>
                <p>Players earn points by solving anagram puzzles and can achieve <strong>Legend</strong> status by reaching 2,000 points!</p>
                <div class="scoring-breakdown">
                    <div class="score-item">
                        <span class="score-points">üéØ Easy:</span>
                        <span>10-30 points</span>
                    </div>
                    <div class="score-item">
                        <span class="score-points">üéØ Medium:</span>
                        <span>40-70 points</span>
                    </div>
                    <div class="score-item">
                        <span class="score-points">üéØ Hard:</span>
                        <span>80-150 points</span>
                    </div>
                </div>
                <p class="legend-tip">üí° <strong>Pro tip:</strong> Creating phrases that match your friend's skill level gives them the best chance to earn maximum points!</p>
            </div>
            
            <div class="tips-section">
                <h4>üí° Tips for Great Phrases</h4>
                <ul class="tips-list">
                    <li><strong>Use memorable content:</strong> Famous quotes, movie lines, or well-known sayings</li>
                    <li><strong>Add themes:</strong> Help categorize your phrase (Movies, Literature, etc.)</li>
                    <li><strong>Think of your friend:</strong> Choose topics they'll recognize and enjoy</li>
                    <li><strong>Provide good hints:</strong> Not too easy, not too hard - just right!</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="/shared/api-client.js?v=5"></script>
    <script src="/shared/validation.js?v=5"></script>
    <script src="/contribute/contribute.js?v=5"></script>
</body>
</html>