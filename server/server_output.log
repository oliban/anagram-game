[dotenv@17.0.1] injecting env (0) from .env – [tip] encrypt with dotenvx: https://dotenvx.com
🔄 Initializing database connection...
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
✅ DATABASE: Connection successful
📅 DATABASE: Server time: Mon Jul 07 2025 20:47:05 GMT+0200 (Central European Summer Time)
🔢 DATABASE: PostgreSQL version: 14.18
✅ Database connection established
📊 Database-powered phrase system ready
🚀 Anagram Game Server running on port 3000
📡 Status endpoint: http://localhost:3000/api/status
🔌 WebSocket server ready for connections
💾 Database mode: PostgreSQL
2025-07-07T18:47:10.061Z - GET /api/phrases/for/player_1751880982707_8bdfn6lb7
📋 DATABASE: Client acquired from pool
🔌 SERVER: Client connected: rJZHBjGELJmaD_MoAAAB (Total: 1) at 2025-07-07T18:47:10.063Z
🔌 SERVER: Client remote address: 192.168.1.133
🔌 SERVER: Client user agent: Unknown
📨 SERVER: Received event 'player-connect' from rJZHBjGELJmaD_MoAAAB: [ { playerId: 'player_1751880982707_8bdfn6lb7' } ]
👤 Player-connect event received at 2025-07-07T18:47:10.065Z
👤 Player-connect data: { playerId: 'player_1751880982707_8bdfn6lb7' }
2025-07-07T18:47:10.069Z - GET /api/phrases/for/player_1751880982707_8bdfn6lb7
2025-07-07T18:47:10.070Z - GET /api/players/online
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'player_1751880982707_8bdfn6lb7' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'player_1751880982707_8bdfn6lb7' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 16 online players
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
📝 DATABASE: Query: 
        UPDATE players 
        SET socket_id = $2, is_active = true, last_seen = CURRENT_TIMESTAMP
        WHERE id = $1
        RETURNING *
      
📋 DATABASE: Params: [ 'player_1751880982707_8bdfn6lb7', 'rJZHBjGELJmaD_MoAAAB' ]
❌ DATABASE: Error updating socket ID: invalid input syntax for type uuid: "player_1751880982707_8bdfn6lb7"
❌ Player not found for ID: player_1751880982707_8bdfn6lb7
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🔌 SERVER: Client connected: 4iYyS5VJbd9JKEsvAAAD (Total: 2) at 2025-07-07T18:47:11.101Z
🔌 SERVER: Client remote address: 192.168.1.133
🔌 SERVER: Client user agent: Unknown
2025-07-07T18:47:11.104Z - GET /api/phrases/for/player_1751882240322_tznkz8ai6
📋 DATABASE: Client acquired from pool
📨 SERVER: Received event 'player-connect' from 4iYyS5VJbd9JKEsvAAAD: [ { playerId: 'player_1751882240322_tznkz8ai6' } ]
👤 Player-connect event received at 2025-07-07T18:47:11.106Z
👤 Player-connect data: { playerId: 'player_1751882240322_tznkz8ai6' }
2025-07-07T18:47:11.107Z - GET /api/players/online
2025-07-07T18:47:11.107Z - GET /api/phrases/for/player_1751882240322_tznkz8ai6
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'player_1751882240322_tznkz8ai6' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
📝 DATABASE: Query: 
        UPDATE players 
        SET socket_id = $2, is_active = true, last_seen = CURRENT_TIMESTAMP
        WHERE id = $1
        RETURNING *
      
📋 DATABASE: Params: [ 'player_1751882240322_tznkz8ai6', '4iYyS5VJbd9JKEsvAAAD' ]
❌ DATABASE: Error updating socket ID: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
❌ Player not found for ID: player_1751882240322_tznkz8ai6
❌ DATABASE: Query error: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'player_1751882240322_tznkz8ai6' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "player_1751882240322_tznkz8ai6"
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 16 online players
2025-07-07T18:47:13.464Z - GET /api/status
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:13.490Z - GET /api/status
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:13.499Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: TestUser1 (ba9fcb00-3262-421e-a4a4-b297f2bfd098)
👤 Player registered: TestUser1 (ba9fcb00-3262-421e-a4a4-b297f2bfd098)
2025-07-07T18:47:13.511Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: TestUser2 (29274f2e-5b34-4727-97fc-69c84bdbd595)
👤 Player registered: TestUser2 (29274f2e-5b34-4727-97fc-69c84bdbd595)
2025-07-07T18:47:13.524Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: AliceTestPlayer (e7abca8f-4530-4e94-8ce8-a9e82fcfdc5d)
👤 Player registered: AliceTestPlayer (e7abca8f-4530-4e94-8ce8-a9e82fcfdc5d)
2025-07-07T18:47:13.528Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: BobTestPlayer (3de25faa-49ca-4e35-ab6d-82f6cdbd37f0)
👤 Player registered: BobTestPlayer (3de25faa-49ca-4e35-ab6d-82f6cdbd37f0)
2025-07-07T18:47:13.531Z - POST /api/players/register
2025-07-07T18:47:13.532Z - POST /api/players/register
❌ Registration error: Error: Player name must be between 2 and 50 characters
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:13.533Z - POST /api/players/register
❌ Registration error: Error: Player name must be between 2 and 50 characters
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:13.535Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:13.536Z - POST /api/players/register
2025-07-07T18:47:13.537Z - POST /api/players/register
2025-07-07T18:47:13.537Z - POST /api/players/register
2025-07-07T18:47:13.538Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: TestUser1 (ba9fcb00-3262-421e-a4a4-b297f2bfd098)
👤 Player registered: TestUser1 (ba9fcb00-3262-421e-a4a4-b297f2bfd098)
2025-07-07T18:47:13.545Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 18 online players
2025-07-07T18:47:13.548Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📝 DATABASE: Phrase created - "hello world test" with hint: "Unscramble these 3 words"
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase c8299493-e25e-4480-925e-38b278523b1e assigned to 1 players
📝 Phrase created: "hello world test" from TestUser1 to TestUser2
📨 Sent new-phrase notification to TestUser2 (test-socket-1751914033510-0.7712389538626668)
2025-07-07T18:47:13.560Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📝 DATABASE: Phrase created - "quick brown fox" with hint: "Unscramble these 3 words"
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase 4281bd47-0454-4fcd-8356-1e9328e9c6d1 assigned to 1 players
📝 Phrase created: "quick brown fox" from TestUser1 to TestUser2
📨 Sent new-phrase notification to TestUser2 (test-socket-1751914033510-0.7712389538626668)
2025-07-07T18:47:13.563Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📝 DATABASE: Phrase created - "sample phrase creation" with hint: "Unscramble these 3 words"
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase 1c0908c3-852b-4457-b46c-5c3feb0e5178 assigned to 1 players
📝 Phrase created: "sample phrase creation" from TestUser1 to TestUser2
📨 Sent new-phrase notification to TestUser2 (test-socket-1751914033510-0.7712389538626668)
2025-07-07T18:47:13.567Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📝 DATABASE: Phrase created - "anagram game test" with hint: "Unscramble these 3 words"
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase 0da606b5-0c37-4a90-8fa5-61eb48083a68 assigned to 1 players
📝 Phrase created: "anagram game test" from TestUser1 to TestUser2
📨 Sent new-phrase notification to TestUser2 (test-socket-1751914033510-0.7712389538626668)
2025-07-07T18:47:13.575Z - POST /api/phrases
2025-07-07T18:47:13.576Z - POST /api/phrases
2025-07-07T18:47:13.577Z - POST /api/phrases
2025-07-07T18:47:13.577Z - POST /api/phrases
2025-07-07T18:47:13.579Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-id"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'invalid-id' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "invalid-id"
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:13.595Z - POST /api/phrases
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-id"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'invalid-id' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "invalid-id"
2025-07-07T18:47:13.597Z - GET /api/phrases/for/ba9fcb00-3262-421e-a4a4-b297f2bfd098
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Found 0 phrases for player ba9fcb00-3262-421e-a4a4-b297f2bfd098
2025-07-07T18:47:13.643Z - GET /api/phrases/for/29274f2e-5b34-4727-97fc-69c84bdbd595
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Found 8 phrases for player 29274f2e-5b34-4727-97fc-69c84bdbd595
2025-07-07T18:47:13.645Z - GET /api/phrases/for/e7abca8f-4530-4e94-8ce8-a9e82fcfdc5d
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Found 8 phrases for player e7abca8f-4530-4e94-8ce8-a9e82fcfdc5d
2025-07-07T18:47:13.646Z - GET /api/phrases/for/3de25faa-49ca-4e35-ab6d-82f6cdbd37f0
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Found 7 phrases for player 3de25faa-49ca-4e35-ab6d-82f6cdbd37f0
2025-07-07T18:47:13.654Z - GET /api/phrases/for/invalid-player-id
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-player-id"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'invalid-player-id' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "invalid-player-id"
2025-07-07T18:47:13.656Z - POST /api/phrases/c8299493-e25e-4480-925e-38b278523b1e/consume
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
✅ DATABASE: Phrase c8299493-e25e-4480-925e-38b278523b1e marked as consumed
✅ Phrase consumed: c8299493-e25e-4480-925e-38b278523b1e
2025-07-07T18:47:13.663Z - POST /api/phrases/invalid-phrase-id/consume
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-phrase-id"
📝 DATABASE: Query: 
        UPDATE player_phrases 
        SET is_delivered = true, delivered_at = CURRENT_TIMESTAMP
        WHERE phrase_id = $1 AND is_delivered = false
        RETURNING *
      
📋 DATABASE: Params: [ 'invalid-phrase-id' ]
❌ DATABASE: Error consuming phrase: invalid input syntax for type uuid: "invalid-phrase-id"
2025-07-07T18:47:13.664Z - POST /api/phrases/test-phrase-id/skip
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "test-phrase-id"
📝 DATABASE: Query: 
        SELECT skip_phrase_for_player($1, $2) as success
      
📋 DATABASE: Params: [ 'ba9fcb00-3262-421e-a4a4-b297f2bfd098', 'test-phrase-id' ]
❌ DATABASE: Error skipping phrase: invalid input syntax for type uuid: "test-phrase-id"
2025-07-07T18:47:13.680Z - POST /api/phrases/test-phrase-id/skip
🗑️ DATABASE: Client removed from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-player-id"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'invalid-player-id' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "invalid-player-id"
🗑️ DATABASE: Client removed from pool
🔌 SERVER: Client connected: RFUfBZf2lpcl3g7LAAAF (Total: 3) at 2025-07-07T18:47:13.699Z
🔌 SERVER: Client remote address: 127.0.0.1
🔌 SERVER: Client user agent: Unknown
📨 SERVER: Received event 'player-connect' from RFUfBZf2lpcl3g7LAAAF: [ { playerId: 'ba9fcb00-3262-421e-a4a4-b297f2bfd098' } ]
👤 Player-connect event received at 2025-07-07T18:47:14.696Z
👤 Player-connect data: { playerId: 'ba9fcb00-3262-421e-a4a4-b297f2bfd098' }
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: Socket updated for player ba9fcb00-3262-421e-a4a4-b297f2bfd098: RFUfBZf2lpcl3g7LAAAF
👤 Player connected via socket: TestUser1 (RFUfBZf2lpcl3g7LAAAF)
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 18 online players
📨 SERVER: Received event 'player-connect' from RFUfBZf2lpcl3g7LAAAF: [ { playerId: 'invalid-id' } ]
👤 Player-connect event received at 2025-07-07T18:47:15.203Z
👤 Player-connect data: { playerId: 'invalid-id' }
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "invalid-id"
📝 DATABASE: Query: 
        UPDATE players 
        SET socket_id = $2, is_active = true, last_seen = CURRENT_TIMESTAMP
        WHERE id = $1
        RETURNING *
      
📋 DATABASE: Params: [ 'invalid-id', 'RFUfBZf2lpcl3g7LAAAF' ]
❌ DATABASE: Error updating socket ID: invalid input syntax for type uuid: "invalid-id"
❌ Player not found for ID: invalid-id
🗑️ DATABASE: Client removed from pool
🔌 Client disconnected: RFUfBZf2lpcl3g7LAAAF (Total: 2)
🔌 Disconnect reason: client namespace disconnect
2025-07-07T18:47:16.704Z - GET /api/nonexistent/endpoint
Server error: SyntaxError: Unexpected token '"', ""invalid-json"" is not valid JSON
    at JSON.parse (<anonymous>)
    at createStrictSyntaxError (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/body-parser/lib/types/json.js:169:10)
    at parse (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/body-parser/lib/types/json.js:86:15)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/body-parser/lib/read.js:128:18
    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
    at invokeCallback (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/raw-body/index.js:238:16)
    at done (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/raw-body/index.js:227:7)
    at IncomingMessage.onEnd (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/raw-body/index.js:287:7)
    at IncomingMessage.emit (node:events:507:28)
    at endReadableNT (node:internal/streams/readable:1701:12) {
  expose: true,
  statusCode: 400,
  status: 400,
  body: '"invalid-json"',
  type: 'entity.parse.failed'
}
2025-07-07T18:47:16.708Z - POST /api/players/register
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
📴 DATABASE: Player TestUser1 set as inactive
👤 Player disconnected: TestUser1 (RFUfBZf2lpcl3g7LAAAF)
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 17 online players
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:16.735Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:16.736Z - GET /api/players/online
👤 DATABASE: Existing player logged in: ComprehensiveTestUser1 (0e5b8bc8-fa5c-4cbd-b900-55c53d0263ba)
👤 Player registered: ComprehensiveTestUser1 (0e5b8bc8-fa5c-4cbd-b900-55c53d0263ba)
👥 DATABASE: Found 17 online players
2025-07-07T18:47:16.748Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: ComprehensiveTestUser2 (f976d33d-7710-427d-989e-198a6aa868be)
👤 Player registered: ComprehensiveTestUser2 (f976d33d-7710-427d-989e-198a6aa868be)
2025-07-07T18:47:16.762Z - GET /api/status
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 17 online players
🔌 SERVER: Client connected: zEXYiM3-cH-4nlcnAAAI (Total: 3) at 2025-07-07T18:47:16.790Z
🔌 SERVER: Client remote address: 127.0.0.1
🔌 SERVER: Client user agent: Unknown
🔌 SERVER: Client connected: Z0UTHlXoVzCCXwW6AAAJ (Total: 4) at 2025-07-07T18:47:16.790Z
🔌 SERVER: Client remote address: 127.0.0.1
🔌 SERVER: Client user agent: Unknown
🔌 Client disconnected: zEXYiM3-cH-4nlcnAAAI (Total: 3)
🔌 Disconnect reason: client namespace disconnect
📋 DATABASE: Client acquired from pool
🔌 Client disconnected: Z0UTHlXoVzCCXwW6AAAJ (Total: 2)
🔌 Disconnect reason: client namespace disconnect
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.789Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.791Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.792Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.793Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.795Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.796Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🔌 No player found for disconnected socket: Z0UTHlXoVzCCXwW6AAAJ
👤 DATABASE: Existing player logged in: Player-123 (e36b8cc2-5ffa-42eb-8d4e-cc5fa4074677)
👤 Player registered: Player-123 (e36b8cc2-5ffa-42eb-8d4e-cc5fa4074677)
2025-07-07T18:47:24.809Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: Test_User (a02d96a4-f1f6-417b-b612-aa7bd2f65faf)
👤 Player registered: Test_User (a02d96a4-f1f6-417b-b612-aa7bd2f65faf)
🔌 No player found for disconnected socket: zEXYiM3-cH-4nlcnAAAI
2025-07-07T18:47:24.811Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.812Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.813Z - POST /api/players/register
❌ Registration error: Error: Player name can only contain letters, numbers, spaces, hyphens, and underscores
    at DatabasePlayer.createPlayer (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePlayer.js:59:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:106:41
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/layer.js:95:5)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:284:15
    at router.process_params (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:346:12)
    at next (/Users/fredriksafsten/Workprojects/anagram-game/server/node_modules/express/lib/router/index.js:280:10)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:45:3
2025-07-07T18:47:24.814Z - POST /api/phrases
2025-07-07T18:47:24.817Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.826Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.826Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.827Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.827Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
👤 DATABASE: New player created: ConcurrentUser_0_1751914044815 (5cb3918b-eec5-491a-9476-9852788fb0ea)
👤 Player registered: ConcurrentUser_0_1751914044815 (5cb3918b-eec5-491a-9476-9852788fb0ea)
👤 DATABASE: New player created: ConcurrentUser_1_1751914044815 (61c1974b-11df-417e-808e-04f4e9c64029)
👤 Player registered: ConcurrentUser_1_1751914044815 (61c1974b-11df-417e-808e-04f4e9c64029)
👤 DATABASE: New player created: ConcurrentUser_2_1751914044815 (e4580249-5175-44b3-bbe9-9a61b98e8f29)
👤 Player registered: ConcurrentUser_2_1751914044815 (e4580249-5175-44b3-bbe9-9a61b98e8f29)
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: New player created: ConcurrentUser_4_1751914044816 (a4949119-425d-4357-a573-72e3a9aeeaea)
👤 Player registered: ConcurrentUser_4_1751914044816 (a4949119-425d-4357-a573-72e3a9aeeaea)
👤 DATABASE: New player created: ConcurrentUser_3_1751914044815 (802ca675-e8b8-4cd6-8d16-f5ff078a207d)
👤 Player registered: ConcurrentUser_3_1751914044815 (802ca675-e8b8-4cd6-8d16-f5ff078a207d)
2025-07-07T18:47:24.864Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: New player created: IntegrationPlayer1_1751914044864 (d180dfee-a6fd-489d-b056-196fc042a340)
👤 Player registered: IntegrationPlayer1_1751914044864 (d180dfee-a6fd-489d-b056-196fc042a340)
2025-07-07T18:47:24.872Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: New player created: IntegrationPlayer2_1751914044871 (6e029b8e-c018-4095-a3d3-d4dbd64d1f96)
👤 Player registered: IntegrationPlayer2_1751914044871 (6e029b8e-c018-4095-a3d3-d4dbd64d1f96)
2025-07-07T18:47:24.873Z - GET /api/status
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.877Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.878Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.878Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.878Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.878Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:24.878Z - GET /api/players/online
2025-07-07T18:47:24.878Z - GET /api/players/online
2025-07-07T18:47:24.879Z - GET /api/players/online
2025-07-07T18:47:24.879Z - GET /api/players/online
2025-07-07T18:47:24.880Z - GET /api/players/online
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
🔌 DATABASE: New client connected
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
👥 DATABASE: Found 24 online players
2025-07-07T18:47:24.915Z - POST /api/players/register
2025-07-07T18:47:24.918Z - POST /api/players/register
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
👤 DATABASE: Existing player logged in: test (8299d480-659b-4e06-866a-7da36f85f389)
👤 Player registered: test (8299d480-659b-4e06-866a-7da36f85f389)
2025-07-07T18:47:24.927Z - POST /api/players/register
2025-07-07T18:47:24.929Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:47:24.930Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase e619cf1d-d9f1-4e83-810b-4cb51bda2ab3 assigned to 1 players
📝 DATABASE: Enhanced phrase created - "hello world amazing test" with hint: "Testing the new enhanced endpoint"
📝 Enhanced phrase created: "hello world amazing test" from test to 1 players
📨 Sent enhanced phrase notification to IntegrationPlayer2_1751914044871 (integration-socket-2)
2025-07-07T18:47:24.934Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "global test phrase for everyone"
📝 DATABASE: Enhanced phrase created - "global test phrase for everyone" with hint: "Available to all participants"
📝 Enhanced phrase created: "global test phrase for everyone" from test (global)
2025-07-07T18:47:24.936Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase b9b8395b-c4a5-4ec1-9dc7-5e550bb08ce3 assigned to 2 players
📝 DATABASE: Enhanced phrase created - "multi target test phrase" with hint: "Challenge for multiple recipients"
📝 Enhanced phrase created: "multi target test phrase" from test to 2 players
📨 Sent enhanced phrase notification to IntegrationPlayer2_1751914044871 (integration-socket-2)
📨 Sent enhanced phrase notification to IntegrationPlayer1_1751914044864 (integration-socket-1)
2025-07-07T18:47:24.940Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
Error creating enhanced phrase: Error: Validation failed: Hint must be at least 10 characters long
    at DatabasePhrase.createEnhancedPhrase (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePhrase.js:540:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:315:41
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-07T18:47:24.942Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
Error creating enhanced phrase: Error: Validation failed: Hint should not contain exact words from the phrase
    at DatabasePhrase.createEnhancedPhrase (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePhrase.js:540:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:315:41
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-07T18:47:24.943Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "validation test phrase"
📝 DATABASE: Enhanced phrase created - "validation test phrase" with hint: "Unscramble this challenging message"
📝 Enhanced phrase created: "validation test phrase" from test (global)
2025-07-07T18:47:24.945Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
Error creating enhanced phrase: Error: Validation failed: Hint should not contain exact words from the phrase
    at DatabasePhrase.createEnhancedPhrase (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePhrase.js:540:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:315:41
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-07T18:47:24.946Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
Error creating enhanced phrase: Error: Validation failed: Hint should not contain exact words from the phrase
    at DatabasePhrase.createEnhancedPhrase (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePhrase.js:540:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:315:41
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-07T18:47:24.947Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "level 1 sample words"
📝 DATABASE: Enhanced phrase created - "level 1 sample words" with hint: "Unscramble this level 1 message"
📝 Enhanced phrase created: "level 1 sample words" from test (global)
2025-07-07T18:47:24.953Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "level 2 sample words"
📝 DATABASE: Enhanced phrase created - "level 2 sample words" with hint: "Unscramble this level 2 message"
📝 Enhanced phrase created: "level 2 sample words" from test (global)
2025-07-07T18:47:24.961Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "level 3 sample words"
📝 DATABASE: Enhanced phrase created - "level 3 sample words" with hint: "Unscramble this level 3 message"
📝 Enhanced phrase created: "level 3 sample words" from test (global)
2025-07-07T18:47:24.964Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "level 4 sample words"
📝 DATABASE: Enhanced phrase created - "level 4 sample words" with hint: "Unscramble this level 4 message"
📝 Enhanced phrase created: "level 4 sample words" from test (global)
2025-07-07T18:47:24.967Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "level 5 sample words"
📝 DATABASE: Enhanced phrase created - "level 5 sample words" with hint: "Unscramble this level 5 message"
📝 Enhanced phrase created: "level 5 sample words" from test (global)
2025-07-07T18:47:24.987Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
Error creating enhanced phrase: Error: Invalid phrase type. Must be one of: custom, global, community, challenge
    at DatabasePhrase.createEnhancedPhrase (/Users/fredriksafsten/Workprojects/anagram-game/server/models/DatabasePhrase.js:554:13)
    at /Users/fredriksafsten/Workprojects/anagram-game/server/server.js:315:41
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-07T18:47:24.989Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "custom type test phrase"
📝 DATABASE: Enhanced phrase created - "custom type test phrase" with hint: "Testing custom phrase type"
📝 Enhanced phrase created: "custom type test phrase" from test (global)
2025-07-07T18:47:24.991Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "global type test phrase"
📝 DATABASE: Enhanced phrase created - "global type test phrase" with hint: "Testing global phrase type"
📝 Enhanced phrase created: "global type test phrase" from test (global)
2025-07-07T18:47:24.994Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "community type test phrase"
📝 DATABASE: Enhanced phrase created - "community type test phrase" with hint: "Testing community phrase type"
📝 Enhanced phrase created: "community type test phrase" from test (global)
2025-07-07T18:47:24.996Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🌍 DATABASE: Global phrase created - "challenge type test phrase"
📝 DATABASE: Enhanced phrase created - "challenge type test phrase" with hint: "Testing challenge phrase type"
📝 Enhanced phrase created: "challenge type test phrase" from test (global)
2025-07-07T18:47:25.010Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
🎯 DATABASE: Phrase cec48ac7-97fe-45c5-8bb3-848cf9e50073 assigned to 1 players
📝 DATABASE: Enhanced phrase created - "sample output testing demo" with hint: "Check the enhanced data format"
📝 Enhanced phrase created: "sample output testing demo" from test to 1 players
📨 Sent enhanced phrase notification to IntegrationPlayer2_1751914044871 (integration-socket-2)
2025-07-07T18:47:25.015Z - POST /api/phrases/create
2025-07-07T18:47:25.017Z - POST /api/phrases/create
2025-07-07T18:47:25.018Z - POST /api/phrases/create
📋 DATABASE: Client acquired from pool
❌ DATABASE: Query error: invalid input syntax for type uuid: "nonexistent-player-id"
📝 DATABASE: Query: 
        SELECT * FROM players WHERE id = $1
      
📋 DATABASE: Params: [ 'nonexistent-player-id' ]
❌ DATABASE: Error getting player by ID: invalid input syntax for type uuid: "nonexistent-player-id"
2025-07-07T18:47:25.024Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
🗑️ DATABASE: Client removed from pool
2025-07-07T18:47:25.044Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 2, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 2 global phrases (10 total)
2025-07-07T18:47:25.047Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 2, offset: 1, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 2 global phrases (10 total)
2025-07-07T18:47:25.058Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 5, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 5 global phrases (10 total)
2025-07-07T18:47:25.061Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: 1, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 3 global phrases (3 total)
2025-07-07T18:47:25.063Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: 2, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
2025-07-07T18:47:25.071Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
✅ DATABASE: Returned 6 global phrases (6 total)
2025-07-07T18:47:25.075Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: 3, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 1 global phrases (1 total)
2025-07-07T18:47:25.077Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
2025-07-07T18:47:25.078Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
2025-07-07T18:47:25.080Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: false
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 50 global phrases (57 total)
2025-07-07T18:47:25.082Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 1, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 1 global phrases (10 total)
2025-07-07T18:47:25.084Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 100, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
2025-07-07T18:47:25.085Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
2025-07-07T18:47:25.087Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 1, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 1 global phrases (10 total)
2025-07-07T18:47:25.090Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: all, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 10 global phrases (10 total)
2025-07-07T18:47:25.091Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 3, offset: 0, difficulty: 2, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 3 global phrases (6 total)
2025-07-07T18:47:25.093Z - GET /api/phrases/global
🌍 REQUEST: Global phrases - limit: 50, offset: 0, difficulty: 1, approved: true
📋 DATABASE: Client acquired from pool
📋 DATABASE: Client acquired from pool
✅ DATABASE: Returned 3 global phrases (3 total)
2025-07-07T18:47:26.109Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:47:40.081Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:47:41.106Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
🗑️ DATABASE: Client removed from pool
2025-07-07T18:47:55.073Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
🗑️ DATABASE: Client removed from pool
2025-07-07T18:47:56.110Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:48:10.074Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:48:11.110Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:48:25.076Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
2025-07-07T18:48:26.126Z - GET /api/players/online
📋 DATABASE: Client acquired from pool
👥 DATABASE: Found 24 online players
